<script>
    import { Br, Button, Card, FormBuilder } from '@components'

    export let data = undefined
    export let submit = async () => {}

    let formFields = [
         {
            label: '–ê–≤–∞—Ç–∞—Ä:',
            type: 'custom-avatar',
            name: 'avatar',
            meta: {
                accept: 'image/jpeg,image/png',
            }
        },
        {
            label: '–ö–ª–∏—á–∫–∞:',
            type: 'text',
            name: 'name',
            meta: {
                placeholder: '–õ–æ–∫—ñ...',
                maxlength: 20,
            },
        },
        {
            label: '–ü–æ—Ä–æ–¥–∞:',
            type: 'text',
            name: 'breed',
            meta: {
                placeholder: '–õ–∞–±—Ä–∞–¥–æ—Ä...',
                maxlength: 20,
            },
        },
        {
            label: '–î–µ–Ω—å –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è:',
            type: 'date',
            name: 'birth',
            meta: {
                placeholder: '18.03.2019...',
            },
        },
        {
            label: '–°—Ç–∞—Ç—å:',
            type: 'radio-rect',
            name: 'sex',
            meta: {
                options: [
                    {
                        label: '–í—ñ–Ω',
                        value: 'male',
                        preIcon: 'check-flag',
                    },
                    {
                        label: '–í–æ–Ω–∞',
                        value: 'female',
                        preIcon: 'check-flag',
                    }
                ]
            },
        },
        {
            label: '–°—Ç–µ—Ä–∏–ª—ñ–∑–∞—Ü—ñ—è?',
            type: 'radio-rect',
            name: 'sterilization',
            meta: {
                options: [
                    {
                        label: '–¢–∞–∫',
                        value: true,
                        preIcon: 'check-flag',
                    },
                    {
                        label: '–ù—ñ',
                        value: false,
                        preIcon: 'close',
                    }
                ]
            },
        },
        {
            label: '–•–∞—Ä–∞–∫—Ç–µ—Ä:',
            type: 'radio-rect',
            name: 'character_short',
            meta: {
                options: [
                    {
                        label: 'üòÉ',
                        value: 'üòÉ',
                    },
                    {
                        label: 'üòá',
                        value: 'üòá',
                    },
                    {
                        label: 'üòú',
                        value: 'üòú',
                    },
                    {
                        label: 'üòé',
                        value: 'üòé',
                    },
                    {
                        label: 'üòù',
                        value: 'üòù',
                    }
                ]
            },
        },
        {
            label: '–û–ø–∏—Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä—É:',
            type: 'textarea',
            name: 'character',
            meta: {
                rows: 6,
                maxlength: 75,
                placeholder: '–ì—Ä–∞–π–ª–∏–≤–∏–π —Ç–∞ –≤–µ—Å–µ–ª–∏–π –ø–µ—Å–∏–∫...',
            },
        },
        {
            label: '–Ü—Å—Ç–æ—Ä—ñ—è —Ç–≤–∞—Ä–∏–Ω–∫–∏:',
            type: 'custom-lifestory',
            name: 'lifestory',
            meta: {
                max: 100,
                maxlength: 75,
            },
        },
        {
            label: '–í–∞–∫—Ü–∏–Ω–∞—Ü—ñ—è:',
            type: 'checkbox',
            name: 'vaccination',
            meta: {
                options: [
                    {
                        text: '–í—ñ–¥ –∫–ª—ñ—â—ñ–≤',
                        value: 'from-fungi'
                    },
                    {
                        text: '–í—ñ–¥ —Å–∫–∞–∑—É',
                        value: 'from-rabies'
                    },
                    {
                        text: '–í—ñ–¥ –ø–∞—Ä–∞–≥—Ä–∏–ø—É',
                        value: 'from-parainfluenza'
                    },
                    {
                        text: '–í—ñ–¥ —á—É–º–∞ –º\'—è—Å–æ—ó–¥–Ω–∏—Ö',
                        value: 'from-carnivorous-plague'
                    },
                    {
                        text: '–í—ñ–¥ –ø–∞—Ä–≤–æ–≤—ñ—Ä–æ–∑',
                        value: 'from-parvovirus'
                    },
                    {
                        text: '–í—ñ–¥ –∞–¥–µ–Ω–æ–≤—ñ—Ä–æ–∑',
                        value: 'from-adenovirus'
                    },
                    {
                        text: '–í—ñ–¥ –ª–µ–ø—Ç–æ—Å–ø—ñ—Ä–æ–∑',
                        value: 'from-leptospirosis'
                    },
                ]
            },
        },
    ]

    $: formValues = data || {}
    $: formErrors = {}

    async function onSubmit(e) {
        await submit(e)
    }
</script>

<Card class="container">
    <Br size="30"/>

    <FormBuilder 
        id="description-form"
        items={formFields}
        data={formValues}
        errors={formErrors}
        submit={onSubmit}
        on:change
    />

    <Br size="40"/>

    <Button size="small" type="submit" form="top-info-form" is="info">
        <span class="h3 font-secondary font-w-500 flex flex-align-center">
            –ó–±–µ—Ä–µ–≥—Ç–∏
        </span>
    </Button>

    <Br size="40"/>
</Card>    


