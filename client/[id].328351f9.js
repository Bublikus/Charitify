import{S as t,i as n,s as a,a3 as o,c as e,d as l,q as s,f as i,g as c,k as r,n as f,o as g,u as $,v as m,w as u,J as d,K as h,a4 as p,a2 as y,$ as x,a0 as v,V as w,a5 as z,a6 as b,a7 as k}from"./client.fe5c2bf1.js";function B(t,n,a){const o=t.slice();return o[6]=n[a],o}function M(t){let n;const a=new z({props:{lat:t[6].location.lat,lng:t[6].location.lng}});return a.$on("click",(function(){b(C.bind(null,t[6]))&&C.bind(null,t[6]).apply(this,arguments)})),{c(){l(a.$$.fragment)},l(t){r(a.$$.fragment,t)},m(t,o){g(a,t,o),n=!0},p(n,o){t=n;const e={};1&o&&(e.lat=t[6].location.lat),1&o&&(e.lng=t[6].location.lng),a.$set(e)},i(t){n||($(a.$$.fragment,t),n=!0)},o(t){m(a.$$.fragment,t),n=!1},d(t){u(a,t)}}}function j(t){let n,a,o=t[0],e=[];for(let n=0;n<o.length;n+=1)e[n]=M(B(t,o,n));const l=t=>m(e[t],1,1,()=>{e[t]=null});return{c(){for(let t=0;t<e.length;t+=1)e[t].c();n=p()},l(t){for(let n=0;n<e.length;n+=1)e[n].l(t);n=p()},m(t,o){for(let n=0;n<e.length;n+=1)e[n].m(t,o);f(t,n,o),a=!0},p(t,a){if(1&a){let s;for(o=t[0],s=0;s<o.length;s+=1){const l=B(t,o,s);e[s]?(e[s].p(l,a),$(e[s],1)):(e[s]=M(l),e[s].c(),$(e[s],1),e[s].m(n.parentNode,n))}for(y(),s=o.length;s<e.length;s+=1)l(s);x()}},i(t){if(!a){for(let t=0;t<o.length;t+=1)$(e[t]);a=!0}},o(t){e=e.filter(Boolean);for(let t=0;t<e.length;t+=1)m(e[t]);a=!1},d(t){v(e,t),t&&i(n)}}}function q(t){let n,a;const d=new o({props:{center:t[2],$$slots:{default:[j]},$$scope:{ctx:t}}});return d.$on("ready",t[3]),{c(){n=e(),l(d.$$.fragment),this.h()},l(t){s('[data-svelte="svelte-1vy6te4"]',document.head).forEach(i),n=c(t),r(d.$$.fragment,t),this.h()},h(){document.title="Charitify - Map of organizations."},m(t,o){f(t,n,o),g(d,t,o),a=!0},p(t,[n]){const a={};513&n&&(a.$$scope={dirty:n,ctx:t}),d.$set(a)},i(t){a||($(d.$$.fragment,t),a=!0)},o(t){m(d.$$.fragment,t),a=!1},d(t){t&&i(n),u(d,t)}}}async function C(t){k(`organizations/${t.id}`)}function E(t,n,a){let o;const{page:e}=d();h(t,e,t=>a(4,o=t));let l=o.params.id,s=[];return[s,e,void 0,async function({detail:t}){a(0,s=await w.getOrganizations()),console.log(s);const n=(t,n)=>Math[t](...s.map(t=>t.location[n])),o=[[n("min","lng")+-2,n("min","lat")+-2],[n("max","lng")- -2,n("max","lat")- -2]],e=s.filter(t=>t.id===l)[0];e?t.flyTo({center:[e.location.lng,e.location.lat],zoom:10}):t.fitBounds(o)}]}export default class extends t{constructor(t){super(),n(this,t,E,q,a,{})}}
