import{_ as n,a as t,b as a,c as o,i as r,s as e,d as i,S as c,V as f,g as s,j as u,q as l,k as g,l as $,o as p,u as h,v as m,x as v,y as d,z as x,A as y,W as w,X as M,Y as z,Z as b,$ as j,a0 as k,K as B,M as N,N as q,a1 as A,U as C}from"./client.c7889db5.js";function E(n,t,a){var o=n.slice();return o[4]=t[a],o}function K(n){var t,a=new A({props:{lat:n[4].location.lat,lng:n[4].location.lng}});return{c:function(){u(a.$$.fragment)},l:function(n){p(a.$$.fragment,n)},m:function(n,o){m(a,n,o),t=!0},p:function(n,t){var o={};1&t&&(o.lat=n[4].location.lat),1&t&&(o.lng=n[4].location.lng),a.$set(o)},i:function(n){t||(d(a.$$.fragment,n),t=!0)},o:function(n){x(a.$$.fragment,n),t=!1},d:function(n){y(a,n)}}}function O(n){for(var t,a,o=n[0],r=[],e=0;e<o.length;e+=1)r[e]=K(E(n,o,e));var i=function(n){return x(r[n],1,1,(function(){r[n]=null}))};return{c:function(){for(var n=0;n<r.length;n+=1)r[n].c();t=z()},l:function(n){for(var a=0;a<r.length;a+=1)r[a].l(n);t=z()},m:function(n,o){for(var e=0;e<r.length;e+=1)r[e].m(n,o);h(n,t,o),a=!0},p:function(n,a){if(1&a){var e;for(o=n[0],e=0;e<o.length;e+=1){var c=E(n,o,e);r[e]?(r[e].p(c,a),d(r[e],1)):(r[e]=K(c),r[e].c(),d(r[e],1),r[e].m(t.parentNode,t))}for(b(),e=o.length;e<r.length;e+=1)i(e);j()}},i:function(n){if(!a){for(var t=0;t<o.length;t+=1)d(r[t]);a=!0}},o:function(n){r=r.filter(Boolean);for(var t=0;t<r.length;t+=1)x(r[t]);a=!1},d:function(n){k(r,n),n&&g(t)}}}function P(n){var t,a,o=new f({props:{$$slots:{default:[O]},$$scope:{ctx:n}}});return o.$on("ready",n[2]),{c:function(){t=s(),u(o.$$.fragment),this.h()},l:function(n){l('[data-svelte="svelte-1vy6te4"]',document.head).forEach(g),t=$(n),p(o.$$.fragment,n),this.h()},h:function(){document.title="Charitify - Map of organizations."},m:function(n,r){h(n,t,r),m(o,n,r),a=!0},p:function(n,t){var a=v(t,1)[0],r={};129&a&&(r.$$scope={dirty:a,ctx:n}),o.$set(r)},i:function(n){a||(d(o.$$.fragment,n),a=!0)},o:function(n){x(o.$$.fragment,n),a=!1},d:function(n){n&&g(t),y(o,n)}}}function S(n,t,a){var o,r=w().page;M(n,r,(function(n){return a(3,o=n)}));var e=[];function i(){return(i=B(N.mark((function n(t){var o,r,i;return N.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.detail,n.next=3,new Promise((function(n){return setTimeout(n,2e3)}));case 3:return n.t0=a,n.next=6,q.getOrganizations();case 6:n.t1=e=n.sent,(0,n.t0)(0,n.t1),console.log(e),-2,i=[[(r=function(n,t){return Math[n].apply(Math,C(e.map((function(n){return n.location[t]}))))})("min","lng")+-2,r("min","lat")+-2],[r("max","lng")- -2,r("max","lat")- -2]],o.fitBounds(i);case 13:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return n.$$.update=function(){8&n.$$.dirty&&console.log(o)},[e,r,function(n){return i.apply(this,arguments)}]}var T=function(f){function s(n){var c;return t(this,s),c=a(this,o(s).call(this)),r(i(c),n,S,P,e,{}),c}return n(s,c),s}();export default T;
