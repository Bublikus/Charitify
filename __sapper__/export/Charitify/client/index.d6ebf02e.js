import{S as t,i as a,s as n,B as e,ag as o,d as s,f as l,q as i,g as r,h as c,l as f,o as g,p as $,u as m,v as h,w as u,a7 as p,ah as d,a3 as w,a4 as y,a5 as x,aa as v,ai as b,aj as z,ak as B}from"./client.d8bb207c.js";function j(t,a,n){const e=t.slice();return e[3]=a[n],e}function k(t){let a;const n=new b({props:{lat:t[3].location.lat,lng:t[3].location.lng}});return n.$on("click",(function(){z(C.bind(null,t[3]))&&C.bind(null,t[3]).apply(this,arguments)})),{c(){l(n.$$.fragment)},l(t){f(n.$$.fragment,t)},m(t,e){$(n,t,e),a=!0},p(a,e){t=a;const o={};1&e&&(o.lat=t[3].location.lat),1&e&&(o.lng=t[3].location.lng),n.$set(o)},i(t){a||(m(n.$$.fragment,t),a=!0)},o(t){h(n.$$.fragment,t),a=!1},d(t){u(n,t)}}}function M(t){let a,n,e=t[0],o=[];for(let a=0;a<e.length;a+=1)o[a]=k(j(t,e,a));const s=t=>h(o[t],1,1,()=>{o[t]=null});return{c(){for(let t=0;t<o.length;t+=1)o[t].c();a=d()},l(t){for(let a=0;a<o.length;a+=1)o[a].l(t);a=d()},m(t,e){for(let a=0;a<o.length;a+=1)o[a].m(t,e);g(t,a,e),n=!0},p(t,n){if(1&n){let l;for(e=t[0],l=0;l<e.length;l+=1){const s=j(t,e,l);o[l]?(o[l].p(s,n),m(o[l],1)):(o[l]=k(s),o[l].c(),m(o[l],1),o[l].m(a.parentNode,a))}for(w(),l=e.length;l<o.length;l+=1)s(l);y()}},i(t){if(!n){for(let t=0;t<e.length;t+=1)m(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)h(o[t]);n=!1},d(t){x(o,t),t&&r(a)}}}function q(t){let a,n,p;const d=new e({props:{size:"var(--header-height)"}}),w=new o({props:{$$slots:{default:[M]},$$scope:{ctx:t}}});return w.$on("ready",t[1]),{c(){a=s(),l(d.$$.fragment),n=s(),l(w.$$.fragment),this.h()},l(t){i('[data-svelte="svelte-1vy6te4"]',document.head).forEach(r),a=c(t),f(d.$$.fragment,t),n=c(t),f(w.$$.fragment,t),this.h()},h(){document.title="Charitify - Map of organizations."},m(t,e){g(t,a,e),$(d,t,e),g(t,n,e),$(w,t,e),p=!0},p(t,[a]){const n={};65&a&&(n.$$scope={dirty:a,ctx:t}),w.$set(n)},i(t){p||(m(d.$$.fragment,t),m(w.$$.fragment,t),p=!0)},o(t){h(d.$$.fragment,t),h(w.$$.fragment,t),p=!1},d(t){t&&r(a),u(d,t),t&&r(n),u(w,t)}}}async function C(t){B(`organizations/${t.id}`)}function E(t,a,n){const{page:e}=p();let o=[];return[o,async function({detail:t}){await new Promise(t=>setTimeout(t,2e3)),n(0,o=await v.getOrganizations()),console.log(o);const a=(t,a)=>Math[t](...o.map(t=>t.location[a])),e=[[a("min","lng")+-2,a("min","lat")+-2],[a("max","lng")- -2,a("max","lat")- -2]];t.fitBounds(e)}]}export default class extends t{constructor(t){super(),a(this,t,E,q,n,{})}}
