import{S as t,i as n,s as e,M as a,c as o,d as s,q as l,f as r,g as c,k as i,n as f,o as g,r as $,u as m,v as u,I as h,J as d,K as p,N as x,O as y,Q as w,E as v,U as M}from"./client.0208f8bb.js";function b(t,n,e){const a=t.slice();return a[4]=n[e],a}function z(t){let n;const e=new M({props:{lat:t[4].location.lat,lng:t[4].location.lng}});return{c(){s(e.$$.fragment)},l(t){i(e.$$.fragment,t)},m(t,a){g(e,t,a),n=!0},p(t,n){const a={};1&n&&(a.lat=t[4].location.lat),1&n&&(a.lng=t[4].location.lng),e.$set(a)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){u(e,t)}}}function B(t){let n,e,a=t[0],o=[];for(let n=0;n<a.length;n+=1)o[n]=z(b(t,a,n));const s=t=>m(o[t],1,1,()=>{o[t]=null});return{c(){for(let t=0;t<o.length;t+=1)o[t].c();n=p()},l(t){for(let n=0;n<o.length;n+=1)o[n].l(t);n=p()},m(t,a){for(let n=0;n<o.length;n+=1)o[n].m(t,a);f(t,n,a),e=!0},p(t,e){if(1&e){let l;for(a=t[0],l=0;l<a.length;l+=1){const s=b(t,a,l);o[l]?(o[l].p(s,e),$(o[l],1)):(o[l]=z(s),o[l].c(),$(o[l],1),o[l].m(n.parentNode,n))}for(x(),l=a.length;l<o.length;l+=1)s(l);y()}},i(t){if(!e){for(let t=0;t<a.length;t+=1)$(o[t]);e=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)m(o[t]);e=!1},d(t){w(o,t),t&&r(n)}}}function E(t){let n,e;const h=new a({props:{$$slots:{default:[B]},$$scope:{ctx:t}}});return h.$on("ready",t[2]),{c(){n=o(),s(h.$$.fragment),this.h()},l(t){l('[data-svelte="svelte-1vy6te4"]',document.head).forEach(r),n=c(t),i(h.$$.fragment,t),this.h()},h(){document.title="Charitify - Map of organizations."},m(t,a){f(t,n,a),g(h,t,a),e=!0},p(t,[n]){const e={};129&n&&(e.$$scope={dirty:n,ctx:t}),h.$set(e)},i(t){e||($(h.$$.fragment,t),e=!0)},o(t){m(h.$$.fragment,t),e=!1},d(t){t&&r(n),u(h,t)}}}function N(t,n,e){let a;const{page:o}=h();d(t,o,t=>e(3,a=t));let s=[];return t.$$.update=()=>{8&t.$$.dirty&&console.log(a)},[s,o,async function({detail:t}){await new Promise(t=>setTimeout(t,2e3)),e(0,s=await v.getOrganizations()),console.log(s);const n=(t,n)=>Math[t](...s.map(t=>t.location[n])),a=[[n("min","lng")+-2,n("min","lat")+-2],[n("max","lng")- -2,n("max","lat")- -2]];t.fitBounds(a)}]}export default class extends t{constructor(t){super(),n(this,t,N,E,e,{})}}
