import{_ as n,a as t,i as a,s as r,b as o,S as e,ac as i,e as c,g as f,q as u,h as s,j as l,m as p,p as h,r as g,O as m,w as v,x as $,y as d,Q as y,R as x,z as w,A as R,ad as b,ab as z,a8 as k,a9 as M,$ as j,a0 as B,a1 as D,ae as O,af as S,ag as q,a6 as A}from"./client.c1ab31e7.js";function C(n,t,a){var r=n.slice();return r[6]=t[a],r}function E(n){var t,a=new O({props:{lat:n[6].location.lat,lng:n[6].location.lng}});return a.$on("click",(function(){S(Q.bind(null,n[6]))&&Q.bind(null,n[6]).apply(this,arguments)})),{c:function(){f(a.$$.fragment)},l:function(n){p(a.$$.fragment,n)},m:function(n,r){g(a,n,r),t=!0},p:function(t,r){n=t;var o={};1&r&&(o.lat=n[6].location.lat),1&r&&(o.lng=n[6].location.lng),a.$set(o)},i:function(n){t||(v(a.$$.fragment,n),t=!0)},o:function(n){$(a.$$.fragment,n),t=!1},d:function(n){d(a,n)}}}function N(n){for(var t,a,r=n[0],o=[],e=0;e<r.length;e+=1)o[e]=E(C(n,r,e));var i=function(n){return $(o[n],1,1,(function(){o[n]=null}))};return{c:function(){for(var n=0;n<o.length;n+=1)o[n].c();t=b()},l:function(n){for(var a=0;a<o.length;a+=1)o[a].l(n);t=b()},m:function(n,r){for(var e=0;e<o.length;e+=1)o[e].m(n,r);h(n,t,r),a=!0},p:function(n,a){if(1&a){var e;for(r=n[0],e=0;e<r.length;e+=1){var c=C(n,r,e);o[e]?(o[e].p(c,a),v(o[e],1)):(o[e]=E(c),o[e].c(),v(o[e],1),o[e].m(t.parentNode,t))}for(z(),e=r.length;e<o.length;e+=1)i(e);k()}},i:function(n){if(!a){for(var t=0;t<r.length;t+=1)v(o[t]);a=!0}},o:function(n){o=o.filter(Boolean);for(var t=0;t<o.length;t+=1)$(o[t]);a=!1},d:function(n){M(o,n),n&&s(t)}}}function P(n){var t,a,r=new i({props:{center:n[2],$$slots:{default:[N]},$$scope:{ctx:n}}});return r.$on("ready",n[3]),{c:function(){t=c(),f(r.$$.fragment),this.h()},l:function(n){u('[data-svelte="svelte-1vy6te4"]',document.head).forEach(s),t=l(n),p(r.$$.fragment,n),this.h()},h:function(){document.title="Charitify - Map of organizations."},m:function(n,o){h(n,t,o),g(r,n,o),a=!0},p:function(n,t){var a=m(t,1)[0],o={};513&a&&(o.$$scope={dirty:a,ctx:n}),r.$set(o)},i:function(n){a||(v(r.$$.fragment,n),a=!0)},o:function(n){$(r.$$.fragment,n),a=!1},d:function(n){n&&s(t),d(r,n)}}}function Q(n){return T.apply(this,arguments)}function T(){return(T=j(B.mark((function n(t){return B.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:q("organizations/".concat(t.id));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function _(n,t,a){var r,o=y().page;x(n,o,(function(n){return a(4,r=n)}));var e=r.params.id,i=[];function c(){return(c=j(B.mark((function n(t){var r,o,c,f;return B.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.detail,n.t0=a,n.next=4,D.getOrganizations();case 4:n.t1=i=n.sent,(0,n.t0)(0,n.t1),console.log(i),-2,c=[[(o=function(n,t){return Math[n].apply(Math,A(i.map((function(n){return n.location[t]}))))})("min","lng")+-2,o("min","lat")+-2],[o("max","lng")- -2,o("max","lat")- -2]],(f=i.filter((function(n){return n.id===e}))[0])?r.flyTo({center:[f.location.lng,f.location.lat],zoom:10}):r.fitBounds(c);case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return[i,o,void 0,function(n){return c.apply(this,arguments)}]}var F=function(i){n(f,e);var c=function(n){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}return function(){var a,r=w(n);if(t()){var o=w(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return R(this,a)}}(f);function f(n){var e;return t(this,f),e=c.call(this),a(o(e),n,_,P,r,{}),e}return f}();export default F;
