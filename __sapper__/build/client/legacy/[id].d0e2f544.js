import{_ as n,a as t,b as a,c as r,i as e,s as o,d as i,S as c,B as f,aE as u,j as s,k as l,q as p,l as g,m as h,p as $,v as m,w as v,H as d,y,z as x,A as w,af as z,ag as R,Q as b,R as k,U as B,al as j,ab as D,ac as M,aj as E,aB as S,aF as q,ar as A,aD as C}from"./client.8901118d.js";function F(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,o=t(n);if(r){var i=t(this).constructor;e=Reflect.construct(o,arguments,i)}else e=o.apply(this,arguments);return a(this,e)}}function H(n,t,a){var r=n.slice();return r[7]=t[a],r}function N(n){var t,a;return(t=new q({props:{lat:n[7].location.lat,lng:n[7].location.lng}})).$on("click",(function(){A(n[4].bind(null,n[7]))&&n[4].bind(null,n[7]).apply(this,arguments)})),{c:function(){l(t.$$.fragment)},l:function(n){$(t.$$.fragment,n)},m:function(n,r){v(t,n,r),a=!0},p:function(a,r){n=a;var e={};1&r&&(e.lat=n[7].location.lat),1&r&&(e.lng=n[7].location.lng),t.$set(e)},i:function(n){a||(y(t.$$.fragment,n),a=!0)},o:function(n){x(t.$$.fragment,n),a=!1},d:function(n){w(t,n)}}}function O(n){for(var t,a,r=n[0],e=[],o=0;o<r.length;o+=1)e[o]=N(H(n,r,o));var i=function(n){return x(e[n],1,1,(function(){e[n]=null}))};return{c:function(){for(var n=0;n<e.length;n+=1)e[n].c();t=b()},l:function(n){for(var a=0;a<e.length;a+=1)e[a].l(n);t=b()},m:function(n,r){for(var o=0;o<e.length;o+=1)e[o].m(n,r);m(n,t,r),a=!0},p:function(n,a){if(17&a){var o;for(r=n[0],o=0;o<r.length;o+=1){var c=H(n,r,o);e[o]?(e[o].p(c,a),y(e[o],1)):(e[o]=N(c),e[o].c(),y(e[o],1),e[o].m(t.parentNode,t))}for(k(),o=r.length;o<e.length;o+=1)i(o);B()}},i:function(n){if(!a){for(var t=0;t<r.length;t+=1)y(e[t]);a=!0}},o:function(n){e=e.filter(Boolean);for(var t=0;t<e.length;t+=1)x(e[t]);a=!1},d:function(n){j(e,n),n&&g(t)}}}function P(n){var t,a,r,e,o;return a=new f({props:{size:"var(--header-height)"}}),(e=new u({props:{center:n[2],$$slots:{default:[O]},$$scope:{ctx:n}}})).$on("ready",n[3]),{c:function(){t=s(),l(a.$$.fragment),r=s(),l(e.$$.fragment),this.h()},l:function(n){p('[data-svelte="svelte-1vy6te4"]',document.head).forEach(g),t=h(n),$(a.$$.fragment,n),r=h(n),$(e.$$.fragment,n),this.h()},h:function(){document.title="Charitify - Map of organizations."},m:function(n,i){m(n,t,i),v(a,n,i),m(n,r,i),v(e,n,i),o=!0},p:function(n,t){var a=d(t,1)[0],r={};1025&a&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i:function(n){o||(y(a.$$.fragment,n),y(e.$$.fragment,n),o=!0)},o:function(n){x(a.$$.fragment,n),x(e.$$.fragment,n),o=!1},d:function(n){n&&g(t),w(a,n),n&&g(r),w(e,n)}}}function Q(n,t,a){var r,e=z().page;R(n,e,(function(n){return a(5,r=n)}));var o=r.params.id,i=[];function c(){return(c=D(M.mark((function n(t){var r,e,c,f;return M.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.detail,n.t0=a,n.next=4,E.getOrganizations();case 4:n.t1=i=n.sent,(0,n.t0)(0,n.t1),console.log(i),-2,c=[[(e=function(n,t){return Math[n].apply(Math,C(i.map((function(n){return n.location[t]}))))})("min","lng")+-2,e("min","lat")+-2],[e("max","lng")- -2,e("max","lat")- -2]],(f=i.filter((function(n){return n.id===o}))[0])?r.flyTo({center:[f.location.lng,f.location.lat],zoom:10}):r.fitBounds(c);case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function f(){return(f=D(M.mark((function n(t){return M.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:S("organizations/".concat(t.id));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return[i,e,void 0,function(n){return c.apply(this,arguments)},function(n){return f.apply(this,arguments)}]}var T=function(t){n(f,c);var a=F(f);function f(n){var t;return r(this,f),t=a.call(this),e(i(t),n,Q,P,o,{}),t}return f}();export default T;
